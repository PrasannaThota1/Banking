{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { TransactionService } from '../services/transaction.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/transaction.service\";\nimport * as i2 from \"@angular/common\";\nfunction TransactionsPage_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Loading transactions...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransactionsPage_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction TransactionsPage_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 13)(5, \"strong\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 15);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 16)(11, \"strong\", 17);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementStart(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 18);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const txn_r6 = ctx.$implicit;\n    const last_r7 = ctx.last;\n    i0.ɵɵclassProp(\"last\", last_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"credit\", txn_r6.transaction_type === \"CREDIT\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", txn_r6.transaction_type === \"CREDIT\" ? \"+\" : \"-\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(txn_r6.transaction_type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 12, txn_r6.created_at, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"credit\", txn_r6.transaction_type === \"CREDIT\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", txn_r6.transaction_type === \"CREDIT\" ? \"+\" : \"-\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 15, txn_r6.amount, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(txn_r6.status);\n  }\n}\nfunction TransactionsPage_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 8);\n    i0.ɵɵtemplate(2, TransactionsPage_div_8_div_2_Template, 18, 18, \"div\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.transactions);\n  }\n}\nfunction TransactionsPage_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"p\", 20);\n    i0.ɵɵtext(2, \"No transactions yet.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let TransactionsPage = /*#__PURE__*/(() => {\n  class TransactionsPage {\n    constructor(transactionService) {\n      this.transactionService = transactionService;\n      this.transactions = null;\n      this.loading = true;\n      this.error = null;\n    }\n    ngOnInit() {\n      this.loadTransactions();\n    }\n    loadTransactions() {\n      this.loading = true;\n      this.error = null;\n      this.transactionService.getHistory(50).subscribe({\n        next: data => {\n          this.transactions = data || [];\n          this.loading = false;\n        },\n        error: err => {\n          this.error = 'Failed to load transactions';\n          this.loading = false;\n          console.error(err);\n        }\n      });\n    }\n    static {\n      this.ɵfac = function TransactionsPage_Factory(t) {\n        return new (t || TransactionsPage)(i0.ɵɵdirectiveInject(i1.TransactionService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TransactionsPage,\n        selectors: [[\"transactions-page\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 11,\n        vars: 4,\n        consts: [[1, \"transactions-header\"], [1, \"btn\", \"secondary\", 3, \"click\"], [\"class\", \"muted loading-state\", 4, \"ngIf\"], [\"class\", \"error-text error-state\", 4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"empty\", \"\"], [1, \"muted\", \"loading-state\"], [1, \"error-text\", \"error-state\"], [1, \"card\", \"transactions-list\"], [\"class\", \"transaction-item\", 3, \"last\", 4, \"ngFor\", \"ngForOf\"], [1, \"transaction-item\"], [1, \"transaction-left\"], [1, \"transaction-icon\"], [1, \"transaction-details\"], [1, \"transaction-type\"], [1, \"transaction-date\"], [1, \"transaction-right\"], [1, \"transaction-amount\"], [1, \"transaction-status\"], [1, \"card\", \"empty-state\"], [1, \"muted\"]],\n        template: function TransactionsPage_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0)(2, \"h2\");\n            i0.ɵɵtext(3, \"Transaction History\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"button\", 1);\n            i0.ɵɵlistener(\"click\", function TransactionsPage_Template_button_click_4_listener() {\n              return ctx.loadTransactions();\n            });\n            i0.ɵɵtext(5, \"Refresh\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(6, TransactionsPage_div_6_Template, 2, 0, \"div\", 2)(7, TransactionsPage_div_7_Template, 2, 1, \"div\", 3)(8, TransactionsPage_div_8_Template, 3, 1, \"div\", 4)(9, TransactionsPage_ng_template_9_Template, 3, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const _r4 = i0.ɵɵreference(10);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && (ctx.transactions == null ? null : ctx.transactions.length))(\"ngIfElse\", _r4);\n          }\n        },\n        dependencies: [CommonModule, i2.NgForOf, i2.NgIf, i2.DecimalPipe, i2.DatePipe],\n        styles: [\".transactions-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.transactions-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:1rem}.transactions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column}.transaction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid rgba(255,255,255,.03)}.transaction-item.last[_ngcontent-%COMP%]{border-bottom:none}.transaction-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.transaction-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:rgba(79,70,229,.2);display:flex;align-items:center;justify-content:center;font-size:1.2rem;font-weight:600;color:#4f46e5;flex-shrink:0}.transaction-icon.credit[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.2)}.transaction-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.transaction-type[_ngcontent-%COMP%]{display:block;font-size:.95rem}.transaction-date[_ngcontent-%COMP%]{font-size:.85rem;color:#9aa6bb;margin-top:.25rem}.transaction-right[_ngcontent-%COMP%]{text-align:right}.transaction-amount[_ngcontent-%COMP%]{display:block;color:#ef4444;font-weight:600}.transaction-amount.credit[_ngcontent-%COMP%]{color:#10b981}.transaction-status[_ngcontent-%COMP%]{font-size:.85rem;color:#9aa6bb;margin-top:.25rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}\"]\n      });\n    }\n  }\n  return TransactionsPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}